<div class="navbar">
  <div class="nav-left"></div>

  <div class="nav-right">
    <button class="db-button" (click)="openDatabaseDialog()">
      <i class="fa fa-database"></i>
      {{ selectedDatabase || 'Choisir une base' }}
    </button>
  </div>
</div>

<!-- Dialog pour la sélection de la base de données -->
<div *ngIf="dialogOpened" class="database-dialog-overlay">
  <div class="database-dialog">

    <button class="close-icon" (click)="closeDialog()" aria-label="Fermer">
      <i class="fa fa-times"></i>
    </button>

    <h2>Sélectionner une base de données</h2>

    <mat-form-field appearance="fill" class="db-select">
      <mat-label>Base de données</mat-label>
      <mat-select [(ngModel)]="selectedDatabase">
        <mat-option *ngFor="let db of databases" [value]="db.name">
          {{ db.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- ✅ Bouton Test de Connexion -->
    <div class="dialog-actions">
      <button class="btn test-btn" (click)="testConnection()">Tester la connexion</button>
      <p *ngIf="connectionStatus" class="status-msg">{{ connectionStatus }}</p>

      <div class="dialog-buttons">
        <button class="btn select-btn" (click)="selectDatabase(selectedDatabase)">Sélectionner</button>
      </div>
    </div>
  </div>
</div>

<!--
<div *ngIf="selectedDatabase" class="collection-section">
  <label for="collection-input">Nom de la collection :</label>
  <input id="collection-input" type="text" [(ngModel)]="selectedCollection" placeholder="ex: collaborators" />
  <button class="btn load-btn" (click)="loadCollectionData()">Charger les données</button>
</div> -->
